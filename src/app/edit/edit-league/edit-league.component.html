<div class="row">
  <button mat-button routerLink="/league">‚Üê</button>
</div>
<h1>Edit League</h1>
<div class="form-container">
  <img mat-card-image [src]="'assets/svg/' + league.logo" alt="{{ league.logo }}" class="league-image" />
  <p style="text-align: center;">Edit league with league id <span><b>{{league.id}}</b></span></p>
    <form [formGroup]="leagueEditFormGroup">
      <div class="form-grid">
    <mat-form-field>
      <mat-label>League name</mat-label>
      <input matInput type="text" [formControl]="lname"  required [(ngModel)]="league.lname" name="lname">
      @if(lname.errors?.['pattern']) {
        <mat-error>Not a valid league name</mat-error>
      }
    </mat-form-field>

    <mat-form-field>
      <mat-label>Country ID</mat-label>
      <input matInput type="text" [formControl]="countryid" required [(ngModel)]="league.countryid" name="countryid" pattern="\d+" minlength="1" max-length="2">
      @if(countryid.errors?.['required']) {
        <mat-error>Country id is required</mat-error>
      }
      @if(countryid.errors?.['pattern']) {
        <mat-error>Only digits</mat-error>
      }
    </mat-form-field>
    <mat-form-field>
      <mat-label>Logo</mat-label>
      <input matInput type="text" [formControl]="logo" required [(ngModel)]="league.logo" name="logo">
      @if(logo.errors?.['pattern']) {
        <mat-error>Logo should be at least three characters and end on .svg</mat-error>
      }
    </mat-form-field>
    </div>
    @if(lname.invalid || countryid.invalid || logo.invalid) {
      <mat-error>Error in data</mat-error>
  }
  @else {
  <div class="button-container">
      <button mat-raised-button color="primary" (click)="updateLeague()">Add Update</button>
  </div>
  }
</form>
</div>